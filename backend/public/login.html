app.get('/login', (req, res) => {
  const html = `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>TradeAssist A.I â€” Login</title>
<style>
/* ... your CSS unchanged ... */
</style>
</head>
<body>
<canvas id="backgroundCanvas"></canvas>
<main>
  <!-- ... SVG + form unchanged ... -->
</main>

<script>
const canvas = document.getElementById('backgroundCanvas');
const ctx = canvas.getContext('2d');
let width, height, dpr;

function resizeCanvas() {
  dpr = window.devicePixelRatio || 1;
  width = window.innerWidth;
  height = window.innerHeight;
  canvas.width = width * dpr;
  canvas.height = height * dpr;
  canvas.style.width = width + 'px';
  canvas.style.height = height + 'px';
  ctx.setTransform(1, 0, 0, 1, 0, 0);
  ctx.scale(dpr, dpr);
  initParticles();
}

let particleCount;
let particles = [];

function initParticles() {
  particleCount = width < 600 ? 40 : 100; // reduce for mobile
  particles = Array.from({length: particleCount}, () => ({
    x: Math.random() * width,
    y: Math.random() * height,
    radius: 1.5 + Math.random()*1.5,
    vx: (Math.random()-0.5)*0.5,
    vy: (Math.random()-0.5)*0.5,
    alpha: 0.6 + Math.random()*0.4,
  }));
}

function animate() {
  ctx.clearRect(0,0,width,height);
  particles.forEach(p => {
    p.x += p.vx;
    p.y += p.vy;
    if (p.x<0||p.x>width) p.vx*=-1;
    if (p.y<0||p.y>height) p.vy*=-1;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.radius,0,Math.PI*2);
    ctx.fillStyle = `rgba(255,107,0,${p.alpha})`;
    ctx.fill();
  });
  for(let i=0;i<particles.length;i++){
    for(let j=i+1;j<particles.length;j++){
      const dx = particles[i].x - particles[j].x;
      const dy = particles[i].y - particles[j].y;
      const dist = Math.sqrt(dx*dx+dy*dy);
      if(dist<110){
        ctx.beginPath();
        ctx.strokeStyle = `rgba(255,107,0,${1 - dist/110})`;
        ctx.lineWidth = 0.8;
        ctx.moveTo(particles[i].x, particles[i].y);
        ctx.lineTo(particles[j].x, particles[j].y);
        ctx.stroke();
      }
    }
  }
  requestAnimationFrame(animate);
}

window.addEventListener('resize', resizeCanvas);
resizeCanvas();
animate();
</script>
</body>
</html>`;
  res.send(html);
});
